<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Offline Python Highlight + Copy</title>

  <!-- 本地样式 -->
  <link rel="stylesheet" href="highlight/styles/github-dark.css">

  <!-- highlight.js 核心库 -->
  <script src="highlight/highlight.min.js"></script>
  <!-- Python 语言高亮模块 -->
  <script src="highlight/languages/python.js"></script>

  <!-- DOM 加载完后启动高亮 -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // 如果是 highlight.js 最新版，这里可能是 window.hljsDefinePython
      // 不过大多数包里已经自带注册，直接调用 highlightAll：
      hljs.highlightAll();
    });
  </script>

  <style>
    body { font-family: sans-serif; padding: 2em; background: #f5f5f5; }
    .code-block { position: relative; margin: 2em 0; border:1px solid #ddd; border-radius:6px; background:#fff; }
    .code-header { display:flex; justify-content:space-between; align-items:center;
                   background:#eee; padding:0.4em 0.8em; border-bottom:1px solid #ccc; font-size:0.9em; }
    .language-tag { font-weight:bold; }
    .copy-button { cursor:pointer; background:#ddd; border:none; padding:0.2em 0.6em; border-radius:4px; }
    pre { margin:0; padding:1em; overflow-x:auto; }
  </style>
</head>
<body>

<h2>Python 示例</h2>

<div class="code-block">
  <div class="code-header">
    <span class="language-tag">Python</span>
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
  </div>
  <pre><code class="language-python">
def greet(name):
    print("Hello,", name)

greet("Zhe Han")
  </code></pre>
</div>

<script>
function copyCode(btn) {
  const code = btn.closest('.code-block').querySelector('code').innerText.trim();
  navigator.clipboard.writeText(code)
    .then(() => {
      btn.textContent = "Copied!";
      setTimeout(() => btn.textContent = "Copy", 1500);
    })
    .catch(err => {
      console.error("Copy failed:", err);
      alert("复制失败，请手动复制。");
    });
}
</script>

</body>
</html>

